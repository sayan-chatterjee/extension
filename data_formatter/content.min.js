const DAYS="Date";var start_date_input=$("#fbo5_edit0_xstart"),end_date_input=$("#fbo5_edit0_xdue"),fa_date_input=$("#fbo5_edit0_xfa"),pa_date_input=$("#fbo5_edit0_xpa"),ea_date_input=$("#fbo5_edit0_xea"),actual_date_input=$("#fbo5_edit0_xADate"),target_element=$("#fbo5_edit0_xtarget-baseline"),kraType=$("#fbo5_edit0_xUOM option:selected").text(),saveButton=$('button[id="wizNextButtonedit"'),disableClass="tgm-v12-wizard-btn globalPlacematText globalHumanistText tgm-v12-wizard-btn-no-bg globalSecondaryButton",enableClass="globalPrimaryButton tgm-v12-wizard-btn globalHumanistText";null!=target_element.val()&&($("#wizCancelButtonedit").after('<button id="_refresh_target" title="Refresh"accesskey="" data-isprimary="true" class="'+enableClass+'" aria-live="polite" type="button">Refresh</button>'),target_element.prop("readonly",!0),saveButton.removeClass(enableClass),saveButton.prop("disabled",!0),saveButton.addClass(disableClass)),DAYS===kraType?($('#fbo5_edit0_xmetric-lookup-table input[type="text"]').prop("readonly",!0),end_date_input.prop("disabled",!0),fa_date_input.prop("readonly",!1),pa_date_input.prop("readonly",!1),ea_date_input.prop("readonly",!1)):($('input[id="fbo5_edit0_xmetric-lookup-table_achievement"]').prop("readonly",!1),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#1"]').prop("readonly",!1),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#2"]').prop("readonly",!1),end_date_input.prop("disabled",!1),fa_date_input.val("DD/MM/YYYY"),fa_date_input.prop("disabled",!0),pa_date_input.val("DD/MM/YYYY"),pa_date_input.prop("disabled",!0),ea_date_input.val("DD/MM/YYYY"),ea_date_input.prop("disabled",!0),actual_date_input.val("DD/MM/YYYY"),actual_date_input.prop("disabled",!0)),$("#fbo5_edit0_xUOM").change(function(){var e=kraType;kraType=$("#fbo5_edit0_xUOM option:selected").text(),DAYS===kraType?(target_element.val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement"]').val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#1"]').val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#2"]').val(0),$('#fbo5_edit0_xmetric-lookup-table input[type="text"]').prop("readonly",!0),end_date_input.val("DD/MM/YYYY"),end_date_input.prop("disabled",!0),fa_date_input.prop("disabled",!1),pa_date_input.prop("disabled",!1),ea_date_input.prop("disabled",!1)):DAYS===e&&(target_element.val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement"]').val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#1"]').val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#2"]').val(0),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement"]').prop("readonly",!1),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#1"]').prop("readonly",!1),$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#2"]').prop("readonly",!1),end_date_input.prop("disabled",!1),fa_date_input.val("DD/MM/YYYY"),fa_date_input.prop("disabled",!0),pa_date_input.val("DD/MM/YYYY"),pa_date_input.prop("disabled",!0),ea_date_input.val("DD/MM/YYYY"),ea_date_input.prop("disabled",!0))}),$("#_refresh_target").click(function(){if(DAYS===kraType&&null==actual_date_input.val()){var e=$("#fbo5_edit0_xstart").val(),t=$("#fbo5_edit0_xfa").val(),a=$("#fbo5_edit0_xpa").val(),i=$("#fbo5_edit0_xea").val(),_=e.split("/"),p=new Date(_[2],_[1]-1,_[0]);_=t.split("/");var d=new Date(_[2],_[1]-1,_[0]);_=a.split("/");var l=new Date(_[2],_[1]-1,_[0]);_=i.split("/");var o=new Date(_[2],_[1]-1,_[0]),n=(new Date(d-p)/864e5).toFixed(),r=(new Date(l-p)/864e5).toFixed(),u=(new Date(o-p)/864e5).toFixed();n=parseInt(n)+1;for(var b=[r=parseInt(r)+1,n,u=parseInt(u)+1],s=$('#fbo5_edit0_xmetric-lookup-table input[type="text"]'),v=0;v<s.length;v++)b[v]=isNaN(b[v])?0:b[v],$(s[v]).val(b[v]);target_element.val(b[1])}else if(DAYS===kraType&&null!=actual_date_input.val()){var f=0,c=(_=actual_date_input.val().split("/"),new Date(_[2],_[1]-1,_[0]));_=(e=start_date_input.prev().text()).split("/");p=new Date(_[2],_[1]-1,_[0]);f=(new Date(c-p)/864e5).toFixed(),f=isNaN(f)?-1:f,f=parseInt(f)+1,actual_date_input.prop("disabled",!0),$("#fbo5_edit0_xactual-achievement").val(f),$("#fbo5_edit0_xactual-achievement").prop("readonly",!0)}else if(null!=actual_date_input.val())actual_date_input.prop("disabled",!0),$("#fbo5_edit0_xactual-achievement").prop("readonly",!0);else{var m=$('input[id="fbo5_edit0_xmetric-lookup-table_achievement_#1"]').val();target_element.val(m)}$('button[id="_refresh_target"').removeClass(enableClass),$('button[id="_refresh_target"').prop("disabled",!0),$('button[id="_refresh_target"').addClass(disableClass),$('#fbo5_edit0_xmetric-lookup-table input[type="text"]').prop("readonly",!0),start_date_input.prop("disabled",!0),end_date_input.prop("disabled",!0),fa_date_input.prop("disabled",!0),pa_date_input.prop("disabled",!0),ea_date_input.prop("disabled",!0),$("#fbo5_edit0_xUOM").prop("disabled",!0),saveButton.removeClass(disableClass),saveButton.prop("disabled",!1),saveButton.addClass(enableClass)});