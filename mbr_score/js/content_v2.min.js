var WEIGHTAGE_KEY="Weightage",RATING_KEY="Rating",MBR_SCORE_ELEM=$("div h2[title='MBR Annual Score']").parent().siblings("div").find("div[class='HRContentCell'] input"),CURRENT_STEP="sfcurrentstep";function getData(){var a=[],e=$("div[class='tabDataBorder']");return $.each(e,function(e,t){var n=$(t).find("table[class='goalDetailsTable']"),l={WEIGHTAGE_KEY:0,RATING_KEY:0};$.each(n,function(a,e){var t=$(e).find("tbody");$.each(t,function(a,e){var t=$(e).find("tr");$.each(t,function(a,e){var t=$(e).find("td[class='lab']").html(),n=$(e).find("td[class='val']").html();switch(t){case WEIGHTAGE_KEY:l.WEIGHTAGE_KEY=parseFloat(n.replace("%",""));break;case RATING_KEY:l.RATING_KEY=parseFloat(n)}})})}),a.push(l)}),a}function calculateScore(a){var e=0;a.forEach(a=>{e+=a.RATING_KEY*a.WEIGHTAGE_KEY/100}),MBR_SCORE_ELEM.prop("readonly",!0),MBR_SCORE_ELEM.val(e.toFixed(2))}$(document).ready(function(){console.log("Already Saved MBR Score :: ",MBR_SCORE_ELEM.val());var a=$("div#routeMap"),e=$(a).find("div[title='MBR Annual Review']");-1!=$(e).attr("class").toLowerCase().indexOf(CURRENT_STEP)?(console.log("Form in MBR Annual Review step..."),calculateScore(getData())):console.log("Form NOT in MBR Annual Review step...")});